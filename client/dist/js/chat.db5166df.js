(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chat"],{"293a":function(t,n,e){"use strict";e.r(n);var c=e("7a23"),o={key:0,class:"kaiwa"},a={class:"kaiwa-img-right"},i={class:"kaiwa-text-left"},s={class:"kaiwa-text"};function u(t,n,e,u,h,f){return Object(c["p"])(),Object(c["d"])("div",null,[Object(c["g"])(c["a"],{name:"fade"},{default:Object(c["z"])((function(){return[h.chatShow?(Object(c["p"])(),Object(c["d"])("div",o,[Object(c["g"])("figure",a,[Object(c["g"])("img",{src:h.avatar,alt:"no-img2"},null,8,["src"])]),Object(c["g"])("div",i,[Object(c["g"])("p",s,Object(c["v"])(h.chat||"..."),1)])])):Object(c["e"])("",!0)]})),_:1})])}var h=e("8055"),f=e.n(h),r={name:"chat",components:{},data:function(){return{chat:"",chatShow:!1,chatShowTimer:null,socket:null,avatar:"https://i.loli.net/2021/08/01/SFHndyel1UJx6wL.png"}},computed:{},watch:{},methods:{toSocket:function(){var t=this;this.socket=f.a.connect("/socketchat"),this.socket.on("msg",(function(n){console.log(n),t.chat=n.message,t.avatar=n.avatar||"https://i.loli.net/2021/08/01/SFHndyel1UJx6wL.png",t.$nextTick((function(){t.chatShow=!0})),clearTimeout(t.chatShowTimer),t.chatShowTimer=setTimeout((function(){t.chatShow=!1}),1e3*t.chat.length)})),this.socket.on("connect",(function(){console.log("已连接")})),this.socket.on("disconnect",(function(){console.log("已断开")}))}},created:function(){this.toSocket()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeUnmount:function(){this.socket.close()},unmounted:function(){},activated:function(){}};e("3aff");r.render=u;n["default"]=r},"3aff":function(t,n,e){"use strict";e("6341")},6341:function(t,n,e){}}]);
//# sourceMappingURL=chat.db5166df.js.map